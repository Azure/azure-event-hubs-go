language: go
sudo: false
go:
- 1.9.x
- 1.x
- tip
env:
  global:
  - secure: VoEP71Eu50Fxm3t8zEGVh5d0V7h/apKsoMV9q18R0k2lwgU9yJ1KaGEpEwDWgDXRGdyb1Upz2qVona/4Y0odSgzFXH4zFajOqvbAbCi1qDr73Mo7+QZalZKq5PTNCGDmWGUohzLKpZlmgT9Ab74lTZ1Qp2sIDNtMtXRnO/LuyzNvUanj1ofUF1P0AnzTlXNszK479S4NwXWzIYfCJWfh5MtZZhuLOVkL1ZomkxDRyBGxQkA6/BkO6exoB1yyvhad6l+YM6p3O2AG2+1mURZbqSvSxQFzZJQbKAhrBaUfNFnuiBN+OR3MNzs43YF5gqsi0TH1MrlDeU9y6vWAJsdHJ3jaTE8J+kyu4N3wlPI/LRb4lPN4NeixrV6+K1rUmHrWvxZk2lQTTYu3nkWlalLepvLbWBEVFSOsrIRIj3qOKVwL09Kpd+gyWoew4xS7tm4zoV99FZ4XRT/gZbhEywnIZ/gPocvahW7vqVd1fCYEcB2jMfVBG1zXbJeVnz2+mGnv7DKUxxWOSwhFXsEdWKu+/h/3bbENReDhWl6xDppnQGkF3lYP0RljkcDN5/xEhZqMcKSseF5RLlXBy2OXfZPbTL0x652AbyhYR+D6IT2xSgQQfK1tuqPhFdiEH8yOsssKuu2NGT/vqsY636rvfaMsZq9ZU/KhEUS3xKOVgZaDAMk=
  - secure: O4+UrTz7q59Dw4L8BtT1aZszb7vejrUuPejSXnUVXyy9EotIOVvwEykloz8Ua/G+Wt49d0p56yJ2YVZTkO8hA/BZ8lEH/tf5XuKyciAUHcaA8GuwMe3f110iGFGyFbOZRxNIt6UH9/+XcXWeb8lu7VmM4Y4zBmPX3u5BdxCpC8Y8INnoGvC2PAmPaw4GjaVGlNJT30mmWBIFAwK84fIU4cUqYikuzFn/DgFNJKAbgZh/YkrplQMw3Wb+tJdKSAN8+RrEbvuM93Cv1DP5+/ZGJg0qSEFooxeQsGADJqh4E9vuvgnlPL9OBOTgbae9/N5/30ZZTq/ihCb7qEWyO+KT8wRUUlI5QaNaAUOo6J/pGCoR+KGhZ3DkdwlD4yUoAWuTwz1azPqVQlSTsC4j0tyVzNT4bI4np/1z5U2rBu+Dn6zFgIyHGL+Z/OaFQVmO2SugO19RSAIuIbfH952cBo4CDXHZdUwFBxqOXDA/ONGULRdVlpv/5T79b6i2J1OsZgTjgZubuSeGmKGfk62B6LMkwZ51JwGN8ce4KB1Db5PCpgIXYdSDNEJC59KaE8JOmTsQsbnBDpKAeJRG1gmJHz46nP+vgVsMYJU3uC3PK9CFRJRr6Dv9PdblhGEsoIxXKS0PeMN82MTEK0ozyJ0QL5gxbwaqx5FWbBLijsf07bfstPc=
  - secure: o8msPpAcNnEVUzIRqQCkegHKPRJIcmL8O2udyxxVC3CwF3o/mHUxqnAa1hPc8KwFYRNx2xJagPTLn8egFiFGYazuPSXwAW+n11/Qp0HmjlgP3ZLqx36jHCx+hIBUh8Ak6II/pGjxpBPwwd4XIqORevlS2Y90oJ9ZnKbLutef0EO8eWcKejbmJGaOqQqkFyP9PXdJjS6dgb/QmXO44CMRCgS9x5TqK3aoXlNSIfNhY4T6LTWtY5R20qZ6mUsBABDaJz129H2IiGs749PY3SjXRbsaB/ysANjJVfTK25nQVBFDElcWRr2UbOXWYc0ZuSx+dZPC27m8LIq1vuPqMo7rTYkFeN5OycaiEZl+Z+A2eIMk3RKlf1dXCdpbw6u7bb1M8ouf5lXXKWGI46K4yvQ44LDQbJSe5WqAzDNzuSjz3d4nWMVYfHS2FLFLLl+NEb/quNSfQ51jg6aDcMXQZjERiefvOlgwCrBN+y5GOIBtnZVpkKCjX0IMQHEgFHJbv4T+RXL4TClBbsdXsP4HEO1XKk8W1gIVXNWcQfT6RCG17fZKrwgr8Zd3wRnNNWwnaMek+/b5vsnCMAPourxnhMdyn3gyL2KizM9UzbwLleqvg4b+tAwZdhC00JjbB/RObSKpetPHpBZ5t6WYZ4zMFn95hI3ByvUyHXGR1aUa1WvG9LA=
  - secure: MsBPJZQGYdZ+uMciz8Losx2nKGwaivDSxGAc8OdaDf91atJdOcbashL3HGjhYMjLzV1V81OaZ+hTXJp0M+9B5tNeADv2QWuI/GQ61PDQgkjQxIVWhmgihLCCzx2qFKhpO/ssyTL7KAmk85MUXyedNy+WomZOKeJTtJ3+Zb0i95sHTcnZmxetrPC+QhOp3g7HKTTceXowipLfJBKFSveZMFwWblqkHg/TSh5n7KzlOUK00sWMV/o40qrbltuDN8bZ3jkCtELSF+K3a5YlCr0hqyJrW+MHlCit13cP/faqmhntO7CeTSfUKllAf8TXAZEhUzDbilt7WaXg4nGw2MxtyYJmeQvIqyfUu65Fn3MRekT0DXJAqpbjYJo6Iiw8Rb2ZxonDKRKClomAPI8efTfgv06sBBHg1rfTkWAe8TrhkQEe7iIuzYz6m+1arv2Iw2kROrMj8X6Xoh9M3Op+qs/ud227joeZWoRBIXCQTHUCBtB8yBgs5E5V+fGAXrBndf4GUOpH3YxjhPJ9F7IT4jDkIpyEBqJXnvFJZU3HtWMKBqVRTzPvX6MPImwOqzi744XgJjjSB27KkM4R4HfSg4FeFUKeInvrv8YSAj0r/doDFh1UROkmdd7DORGiVUdgxwDYBiCBAYYcxkpv6S2RGCij5sFG58ldCTrltp4wbKjEuZA=
  - secure: tL3W6N6m+/uv0yzmvmLrfL/FxdKhx+85daU793mZWnLIJqUutN3AuBJid4VwSbP8RSHFlXg2Wd46z070ET2XC8DwtbHS2JtJ8fG5CxTMA1nYkQf+eqaF7I0wJybR/lZ0qvzoFp2jUjJ17wKugu5WdaEJBqC7ItHcccDGg259rmnNQUTva5MQkRKqv3MX+RqpMBikYHBg8i74qdb8DnQa+2snx50+lfJw2CFq7knn6WY1Mx8+4ikOjcn+c5USm3gt/qNbCcMkPvcbqhrRRuc+Fc3IvOXp5MMSTt+D9W6EMVFjF8iwLtTz38xX7AcYH5ZsQW1gMdleYHSbTW4q1Y9G2yir3ZKutCqUiECxGaN3Bt/LpXMoWQhgf5/gyuDUGtF+EK697DgVfS8tzj8d6ai4y9FZrVJTFHnVw1WRSIhjuLZhwG/9l6+PHI9s+/3q+4h4lhscMZg4Zty8+rAqPBwtwpgUA7DYcyEoa8qbxX6BJFTQtgwu95SuRYu4EmI23J+hTGuKsUA/hD2slNyWbBVNLZG8ag7oiqAK7tl2gvQ3SA6MRX+xa9uQiuKUtdi0LYhKt7S0Ur37MaWW51ofgC/NWa6TWklwvuvrmNa1pztjsHQW6XY58ybs9tGQb78D230UzYyeEnDlD/INLxKrpdEJZrzagAZX2KV7FVVJRoppH3A=
  - secure: rb3jRq2X8Em0BaRpxx6SzPos6u2YHOw4yU7ZdU2cLe27sVgRw3JczFutVG0JA9asSoGk7cdkCet/zPpGiT6be0UCG3iPDqrdEM9gTCuL+vUqH77MveyAy7l0idw+kPEAwd66naHgUKSwMO0dK3lw/iP1jiGyO3ERvSGKoaGawlsfd8Ve+XIWxLhzBSwTzCRhh+LeBQKv6ZgO7ffJCIvbCJGonva5NdgFMPdoOu1MW5CTtEHbzjzQAuwmnPL4nG3I/NnndvimKpz1sGcwtBPlAlileJw2dRPNqUAt1UVaIAYx0iNBX5HLyVrPpmwMUuzze7MlTsYIi6PmcOh0r9O4XUfixAw95MeTEYVGnLUpRtwedVAAIab8lODNjj3a0d9ucmv3+GPXgbk15nqDF/BICmsja3JBUk7t/FZmmL5Hgztb+ImV6fwxPhVOHROopj47zBdcQ+HvokA34nvYAlwoyPeQO/4cD5x9QQemgb3fziF3IUZIgMthji1eMg4CnmkDLxpKiCwxDIbM+ViZ8THm1PoXnHoehxAnscSYzQ7YibqSgqO2x+Ni4677dczZeLLId+nGfoA2hd3b4PJ2X0OILZqKEl1j9fDkUCV9Pv+sxIblEsDLnkNMN+yZt31Oad3FHdPv29SkpN9dJbKbrHGA5uyhXnKHnRJ3CIHOcwqemJM=
matrix:
  allow_failures:
  - go: tip
before_install:
- go get github.com/fzipp/gocyclo
- go get -u github.com/golang/dep/cmd/dep
- go get honnef.co/go/tools/cmd/megacheck
script:
- '[ "${TRAVIS_PULL_REQUEST}" = "false" ] && make test || make'